<!DOCTYPE html>
<html lang="en">
<head>
	<style>
        body {
            background-color: #f4f4f4; /* Background for the entire page */
        }
        .search_panel_content {
            background-color: #ffffff; /* Background for the form */
            border-radius: 10px; /* Rounded corners */
            padding: 20px; /* Padding inside the form */
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); /* Shadow effect */
            margin: 20px; /* Margin around the form */
        }
        .ticket-form {
            border: 1px solid #ccc;
            padding: 10px;
            margin-bottom: 10px;
            background-color: #fafafa; /* Background color for each ticket form */
            border-radius: 5px; /* Rounded corners for each form */
        }
        .remove-button {
            background-color: transparent;
            border: none;
            cursor: pointer;
        }
    </style>

<title>Ticket</title>
<style>
        body {
            background-color: #f4f4f4; /* Background for the entire page */
        }
        .search_panel_content {
            background-color: #ffffff; /* Background for the form */
            border-radius: 10px; /* Rounded corners */
            padding: 20px; /* Padding inside the form */
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); /* Shadow effect */
            margin: 20px; /* Margin around the form */
        }
        .ticket-form {
            border: 1px solid #ccc;
            padding: 10px;
            margin-bottom: 10px;
            background-color: #fafafa; /* Background color for each ticket form */
            border-radius: 5px; /* Rounded corners for each form */
        }
        .remove-button {
            background-color: transparent;
            border: none;
            cursor: pointer;
        }
    </style>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="Travelix Project">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="../static/styles/bootstrap4/bootstrap.min.css">
<link href="../static/plugins/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../static/plugins/OwlCarousel2-2.2.1/owl.carousel.css">
<link rel="stylesheet" type="text/css" href="../static/plugins/OwlCarousel2-2.2.1/owl.theme.default.css">
<link rel="stylesheet" type="text/css" href="../static/plugins/OwlCarousel2-2.2.1/animate.css">
<link rel="stylesheet" type="text/css" href="../static/styles/main_styles.css">
<link rel="stylesheet" type="text/css" href="../static/styles/responsive.css">
</head>
<div class="top_bar" style="background-color: #005500; height: 40px; width: 100%; position: relative;">
</div>
<body>
<div class="super_container">
	<header class="header">
		<div class="top_bar">
			<div class="container">
				<div class="row">
					<div class="col d-flex flex-row">
						<div class="phone">+251-11-551 82 92</div>
						<div class="social">
							<ul class="social_list">
								<li class="social_list_item"><a href="#"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li>
								<li class="social_list_item"><a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
								<li class="social_list_item"><a href="#"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
								<li class="social_list_item"><a href="#"><i class="fa fa-dribbble" aria-hidden="true"></i></a></li>
								<li class="social_list_item"><a href="#"><i class="fa fa-behance" aria-hidden="true"></i></a></li>
								<li class="social_list_item"><a href="#"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li>
							</ul>
						</div>
						<div class="user_box ml-auto">
							<div class="user_box_login user_box_link"><a href="{% url 'login' %}">Account</a></div>
							<div class="user_box_register user_box_link"><a href="{% url 'registor' %}">register</a></div>			
						</div>
					</div>
				</div>
			</div>		
		</div>
		<!--
		<nav class="main_nav">
			<div class="container">
				<div class="row">
					<div class="col main_nav_col d-flex flex-row align-items-center justify-content-start">
						<div class="logo_container">
							<div class="logo"><a href="#"><img src="../static/images/logo.png" alt="">Ticket</a></div>
						</div>
						<div class="main_nav_container ml-auto">
							<ul class="main_nav_list">
								<li class="main_nav_item"><a href="{% url 'home' %}">home</a></li>
								  <li class="main_nav_item"><a href="{% url 'get_ticket' %}">show ticket</a></li>
								<li class="main_nav_item"><a href="{% url 'book' %}">book</a></li>
							<li class="main_nav_item"><a href="{% url 'logout' %}">logout</a></li>
							</ul>
						</div>
						<div class="content_search ml-lg-0 ml-auto">
							<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
							width="17px" height="17px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve">
								<g>
									<g>
										<g>
											<path class="mag_glass" fill="#FFFFFF" d="M78.438,216.78c0,57.906,22.55,112.343,63.493,153.287c40.945,40.944,95.383,63.494,153.287,63.494
											s112.344-22.55,153.287-63.494C489.451,329.123,512,274.686,512,216.78c0-57.904-22.549-112.342-63.494-153.286
											C407.563,22.549,353.124,0,295.219,0c-57.904,0-112.342,22.549-153.287,63.494C100.988,104.438,78.439,158.876,78.438,216.78z
											M119.804,216.78c0-96.725,78.69-175.416,175.415-175.416s175.418,78.691,175.418,175.416
											c0,96.725-78.691,175.416-175.416,175.416C198.495,392.195,119.804,313.505,119.804,216.78z"/>
										</g>
									</g>
									<g>
										<g>
											<path class="mag_glass" fill="#FFFFFF" d="M6.057,505.942c4.038,4.039,9.332,6.058,14.625,6.058s10.587-2.019,14.625-6.058L171.268,369.98
											c8.076-8.076,8.076-21.172,0-29.248c-8.076-8.078-21.172-8.078-29.249,0L6.057,476.693
											C-2.019,484.77-2.019,497.865,6.057,505.942z"/>
										</g>
									</g>
								</g>
							</svg>
						</div>
						<form id="search_form" class="search_form bez_1">
							<input type="search" class="search_content_input bez_1">
						</form>
						<div class="hamburger">
							<i class="fa fa-bars trans_200"></i>
						</div>
					</div>
				</div>
			</div>	
		</nav>
		-->


<nav class="main_nav">
                        <div class="container">
                                <div class="row">
                                        <div class="col main_nav_col d-flex flex-row align-items-center justify-content-start">
                                                <div class="logo_container">
                                                        <!--<div class="logo"><a href="#"><img src="../static/images/logo.png" alt="" style="color:blue;">ticket</a></div>-->
                                                        <div class="logo">
    <a href="#">
        <img src="../static/images/logo.png" alt="">
        <span style="color: white;">ticket</span>
    </a>
</div>
</div>
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
<div class="container-fluid" style="background-color: ![#000000][] #000000 padding: 10px; border-radius: 5px;">
    <ul class="main_nav_list d-flex flex-nowrap align-items-center" style="list-style-type: none; padding: 0; margin: 0; overflow-x: auto;">
        <li class="main_nav_item" style="margin-right: 20px; margin-left: 100px;">
            <a href="{% url 'home' %}" style="color: #FFFFFF; text-decoration: none;">HOME</a>
        </li>

        <li class="main_nav_item" style="margin-right: 20px; margin-left: 20px;">
            <a href="{% url 'book' %}" style="color: #FFFFFF; text-decoration: none;">Book</a>
        </li>
        <ul style="list-style-type: none; padding: 0; margin: 0;">
    <li class="main_nav_item" style="margin-right: 20px; margin-left: 30px; display: inline; white-space: nowrap;">
        <a href="{% url 'about' %}" style="color: #FFFFFF; text-decoration: none;">About Us</a>
    </li>
</ul>
<ul style="list-style-type: none; padding: 0; margin: 0;">
    <li class="main_nav_item" style="margin-right: 20px; margin-left: 30px; display: inline; white-space: nowrap;">
        <a href="{% url 'get_ticket' %}" style="color: #FFFFFF; text-decoration: none;">Show Ticket</a>
    </li>
</ul>
<li class="main_nav_item" style="margin-right: 20px; margin-left:30px;">
            <a href="{% url 'comment' %}" style="color: #FFFFFF; text-decoration: none;">Comment</a>
        </li>
        <li class="main_nav_item" style="margin-right: 20px; margin-left:20px;">
            <a href="{% url 'login' %}" style="color: #FFFFFF; text-decoration: none;">Account</a>
        </li>
<li class="main_nav_item" style="display: inline;">
    <form action="{% url 'changebuses' %}" method="post" id="search_form_1" class="search_panel_content d-flex flex-lg-row flex-column align-items-lg-center align-items-start justify-content-lg-between justify-content-start">
        {% csrf_token %}
        <button type="button" id="notificationButton" style="background: none; border: none; cursor: pointer; margin-left:30px;" class="main_nav_item">
            ðŸ””<span style="color: red;"><b>{{ buschanges_count }}</b></span>
        </button>
        <br>
        <input type="date" name="date" placeholder="Date" required id="dateInput" style="display: none; margin-left: 10px; width: 120px; background-color: #ffebcd; border: 1px solid #ffa07a; border-radius: 4px; padding: 3px;">
    </form>
</li>
<script>
    document.getElementById('notificationButton').addEventListener('click', function() {
        var dateInput = document.getElementById('dateInput');

        // Toggle visibility of date input
        if (dateInput.style.display === 'none') {
            dateInput.style.display = 'inline-block';  // Show the date input
            dateInput.focus(); // Focus on the date input when shown
        } else {
            dateInput.style.display = 'none';  // Hide the date input
        }
    });

    // Automatically submit the form when a date is selected
    document.getElementById('dateInput').addEventListener('change', function() {
 document.getElementById('search_form_1').submit();
    });
</script>
<div class="search_panel active">
</div>

                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
	</header>
	<div class="menu trans_500">
		<div class="menu_content d-flex flex-column align-items-center justify-content-center text-center">
			<div class="menu_close_container"><div class="menu_close"></div></div>
			<div class="logo menu_logo"><a href="#"><img src="../static/images/logo.png" alt=""></a></div>
			<ul>
				<li class="menu_item"><a href="{% url 'home' %}">home</a></li>
				<li class="menu_item"><a href="{% url 'get_ticket' %}">show Tickets</a></li>
				<li class="menu_item"><a href="{% url 'book' %}">book</a></li>
				<li class="menu_item"><a href="{% url 'logout' %}">logout</a></li>
			</ul>
		</div>
	</div></br> 
<style>
  .center-input {
    text-align: center;
  }
  .form-row {
    display: flex;
    align-items: center;
  }
  .form-row div {
    margin-right: 40px;
  }
</style>
</br></br></br></br></br></br></br>
</br>
{% if success %}
    <div class="success">
    <h3 style="color: green; margin-left: 150px;"><b>{{ success }}</b><span style="margin-left:30px;" class="symbol">âœ”</span></h3>
    </div>
{% endif %}

{% if error %}
    <div class="success">
    <h3 style="color: red; margin-left: 150px;"><b>{{ error }}</b><span style="margin-left:30px;" class="symbol">X</span></h3>
    </div>
{% endif %}

{% if routes %}
  {% for route in routes %}
<style>
    body {
        background-color: pink;
    }
    .error {
        background-color: lightcoral;
        display: inline-block;
        padding: 10px;
        margin-left: 20px;
        width: 100%;
        box-sizing: border-box;
    }
    .symbol {
        background-color: pink;
        color: black;
        font-size: 24px;
        padding: 5px;
        margin-left: 70px;    }
</style>
</br></br></br>
<h3 style="color: blue; margin: 0 auto; text-align: right; white-space: nowrap; max-width: 100%;"><b style="color: green; margin-right: 20px;">Travel Date</b><b style="margin-right: 30px;">{{ route.date }}</b></h3>
      <div class="container fill_height">
        <div class="row fill_height">

          <div class="col fill_height">
		  </br>
    <h3 style="text-align: center; margin-left: -60px; background-color: green; color: white; display: inline-block;">
	 <strong style="background-color: green; color: white;">{{ remaining_seats }}:</strong><span style="background-color: green; color: white;">Seats Left</span></h3>



<img src="../static/images/title.jpeg" alt="" style="width: 200px; height: 150px; margin-left: 300px; margin-top: -150px;">
<!--
<form action="{% url 'ticket' %}" method="post" id="search_form_1" class="search_panel_content">
    {% csrf_token %}
    {{ new_account }}
    <h3 style="color: blue; margin: 0; margin-left: 700px; margin-top: -30px; font-weight: bold;">Bus Ticket</h3>
    <h4 style="color: green; margin-left: 300px; font-weight: bold;">
        From: <span style="color: blue;">{{ route.depcity }}</span>
        To: <span style="color: blue;">{{ route.descity }}</span>
    </h4>
    <h4 style="color: cyan; margin-left: 10px; font-weight: bold;">Level: <span style="color: Yellow;">{{ levels }}</span></h4>

    <div id="ticket-forms" style="margin: 20px; padding: 20px; background-color: #ffffff; border-radius: 10px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);">
        
        <div class="ticket-form" style="margin-bottom: 20px;">
            <div class="search_item">
                <div class="form-row" style="margin-bottom: 10px;">
                    <div style="display: flex; align-items: center; margin-bottom: 5px;">
                        <div style="margin-left: 50px; color: #333333;">First Name:</div>
                        <div style="margin-left: 90px; color: #333333;">Last Name:</div>
                        <div style="margin-left: 80px; color: #333333;">Phone:</div>
                        <div style="margin-left: 70px; color: #333333;">Email:</div>
                        <div style="margin-left: 70px; color: #333333;">Gender:</div>
                        <div style="margin-left: 80px; color: #333333;">Seat Number:</div>
                    </div>
                    <div style="display: flex; align-items: center;">
                        <input type="text" name="firstname[]" maxlength="15" class="form-control" required pattern="[A-Za-z]+" title="Only letters are allowed" style="margin-right: -10px; margin-left: 10px; background-color: #f9f9f9; width: 150px; border: 3px solid #ccc; border-radius: 5px; padding: 5px;">
                        
                        <input type="text" name="lastname[]" maxlength="15" class="form-control" required pattern="[A-Za-z]+" title="Only letters are allowed" style="margin-right: -20px; margin-left: 20px; background-color: #f9f9f9; width: 150px; border: 3px solid #ccc; border-radius: 5px; padding: 5px;">
                        
                        <div style="margin-right: 10px; margin-left: 30px; position: relative; display: inline-block;">
                            <select name="phonePrefix" class="form-control" required style="position: absolute; left: 5px; top: 5px; width: 40px; height: 30px; background-color: #f9f9f9; border: 3px solid #ccc; border-radius: 5px; margin-top: 20px;" onchange="setPrefix(this)">
                                <option value="" disabled selected>Select</option>
                                <option value="09">09</option>
                                <option value="07">07</option>
                            </select>
                            <input type="tel" name="phone[]" maxlength="10" class="form-control" required placeholder="09 or 07XXXXXXXX" style="background-color: #f9f9f9; width: 150px; border: 3px solid #ccc; border-radius: 5px; padding: 5px; padding-left: 50px; margin-top: 20px;" disabled>
                            <div id="phoneError" style="color: red; display: none;"></div>
                        </div>

                        <input type="email" name="email[]" maxlength="30" class="form-control" required style="margin-right: -20px; margin-left: 20px; background-color: #f9f9f9; width: 150px; border: 3px solid #ccc; border-radius: 5px; padding: 5px;">
                        <div id="emailError" style="color: red; display: none;"></div>

                        <select name="gender[]" class="form-control" required style="margin-right: 10px; margin-left: 30px; width: 150px; background-color: #f9f9f9; border: 3px solid #ccc; border-radius: 5px; padding: 5px;">
                            <option value="" disabled selected>Select Gender</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                            <option value="other">Other</option>
                        </select>
                       
			
                        <input type="text" name="no_seat[]" id="selected_seat_{{ i }}" value="" style="display: inline; width: 100px;" readonly>
                        <select name="seat_no[]" id="seat_no_{{ i }}" class="form-control" required onchange="updateSelectedSeat({{ i }});">
                            <option value="">Select a Seat</option>
                            {% for seat in all_seats %}
                                <option value="{{ seat }}" style="color: {% if seat in booked_seats %} red {% else %} green {% endif %};" {% if seat in booked_seats %} disabled {% endif %}>
                                    {{ seat }}{% if seat in booked_seats %} (Booked){% endif %}
                                </option>
                            {% endfor %}
                        </select>
			
<select name="no_seat[]" id="selected_seat_{{ i }}" class="form-control" style="display: inline; width: 100px;" onchange="updateSelectedSeat({{ i }});">
    <option value="">Select a Seat</option>
    {% for seat in all_seats %}
        <option value="{{ seat }}" style="color: {% if seat in booked_seats %} red {% else %} green {% endif %};" {% if seat in booked_seats %} disabled {% endif %}>
            {{ seat }}{% if seat in booked_seats %} (Booked){% endif %}
        </option>
    {% endfor %}
</select>
                    </div>
                </div>
                <input type="hidden" name="price[]" value="{{ route.price|default:'0' }}" required>
                <input type="hidden" name="side_no[]" value="{{ route.side_no }}" required>
                <input type="hidden" name="plate_no[]" value="{{ route.plate_no }}" required>
                <input type="hidden" name="date[]" value="{{ route.date }}" required>
                <input type="hidden" name="depcity[]" value="{{ route.depcity }}" required>
                <input type="hidden" name="descity[]" value="{{ route.descity }}" required>
            </div>
        </div>      
    </div>
    <button type="button" id="add-button" class="btn btn-primary">Add Another Ticket</button>
    <div style="text-align: center; margin-top: 20px;">
        <button type="submit" class="btn btn-primary">Book All</button>
    </div>
</form>

<script>
function updateSelectedSeat(index) {
    const seatSelect = document.getElementById('seat_no_' + index);
    const displayInput = document.getElementById('selected_seat_' + index);
    
    if (seatSelect && displayInput) {
        displayInput.value = seatSelect.value || ''; // Update the input based on selection
    }
}

document.getElementById('add-button').addEventListener('click', function() {
    const ticketFormsContainer = document.getElementById('ticket-forms');
    const newForm = document.querySelector('.ticket-form').cloneNode(true);
    const currentCount = ticketFormsContainer.children.length;

    // Reset inputs in the new form
    const inputs = newForm.querySelectorAll('input, select');
    inputs.forEach(function(input) {
        if (input.type !== 'hidden') {
            input.value = ''; // Reset visible inputs
        }
        if (input.tagName === 'SELECT') {
            input.selectedIndex = -1; // Reset select box
        }
    });

    // Update IDs and event listeners
    newForm.querySelector('select[name="seat_no[]"]').id = "seat_no_" + currentCount;
    newForm.querySelector('input[name="no_seat[]"]').id = "selected_seat_" + currentCount;
    newForm.querySelector('select[name="seat_no[]"]').setAttribute('onchange', 'updateSelectedSeat(' + currentCount + ');');

    ticketFormsContainer.appendChild(newForm);
});
</script>

<style>
.ticket-form {
    border: 1px solid #ccc;
    padding: 10px;
    margin-bottom: 10px;
}
</style>

-->




<form action="{% url 'ticket' %}" method="post" id="search_form_1" class="search_panel_content">
    {% csrf_token %}
    {{ new_account }}
    <h3 style="color: blue; margin: 0; margin-left: 700px; margin-top: -30px; font-weight: bold;">Bus Ticket</h3>
    <h4 style="color: green; margin-left: 300px; font-weight: bold;">
        From: <span style="color: blue;">{{ route.depcity }}</span>
        To: <span style="color: blue;">{{ route.descity }}</span>
    </h4>
    <h4 style="color: cyan; margin-left: 10px; font-weight: bold;">Level: <span style="color: Yellow;">{{ levels }}</span></h4>
    <div id="ticket-forms" style="margin: 20px; padding: 20px; background-color: #ffffff; border-radius: 10px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);">
        <div class="ticket-form" style="margin-bottom: 20px;">
            <div class="search_item">
                <div class="form-row" style="margin-bottom: 10px;">
                    <div style="display: flex; align-items: center; margin-bottom: 5px;">
			<div style="margin-left: 50px; color: cyan;">First Name:</div>
                        <div style="margin-left: 90px; color: cyan;">Last Name:</div>
                        <div style="margin-left: 80px; color: cyan;">Phone:</div>
                        <div style="margin-left: 70px; color: cyan;">Email:</div>
                        <div style="margin-left: 70px; color: cyan; ">Gender:</div>
                        <div style="margin-left: 80px; color: cyan;">Seat Number:</div>
                    </div>
                    <div style="display: flex; align-items: center;">
			    <input type="text" name="firstname[]" maxlength="15" class="form-control" required value="{{ first }}"        {% if first %}readonly{% endif %}

                               pattern="[A-Za-z]+" title="Only letters are allowed" 
                               oninput="this.value = this.value.replace(/[^A-Za-z]/g, ''); 
                                         if (this.value.length > 0) {
                                             this.value = this.value.charAt(0).toUpperCase() + this.value.slice(1).toLowerCase();
                                         }" 
                               style="margin-right: -10px; margin-left: 10px;  margin-top: -20px; background-color: #f9f9f9; 
                               width: 150px; border: 3px solid #ccc; border-radius: 5px; padding: 5px;">

			<input type="text" name="lastname[]" maxlength="15" class="form-control" required value="{{ last }}" readonly
                               pattern="[A-Za-z]+" title="Only letters are allowed"
                               oninput="this.value = this.value.replace(/[^A-Za-z]/g, '');
                                         if (this.value.length > 0) {
                                             this.value = this.value.charAt(0).toUpperCase() + this.value.slice(1).toLowerCase();
                                         }"
                               style="margin-right: -20px; margin-left: 20px; background-color: #f9f9f9; margin-top: -20px;
                               width: 150px; border: 3px solid #ccc; border-radius: 5px; padding: 5px;">
		<div style="margin-right: 10px; margin-left: 30px; position: relative; display: inline-block;">
<input type="tel" name="phone[]" maxlength="10" class="form-control" required
       style="margin-right: -20px; margin-left: 5px; margin-top: 0px; background-color: #f9f9f9; width: 150px; border: 3px solid #ccc; border-radius: 5px; padding: 5px;"
       value="{{ phone }}" readonly
       oninput="validatePhone(this)"
       pattern="^(09|07)\d{8}$"
       title="Phone number must start with '09' or '07' and be exactly 10 digits long.">
<div id="phoneError" style="color: red; display: none;"></div>
<script>
function validatePhone(input) {
    const phoneError = document.getElementById('phoneError');
    const phoneValue = input.value;
    // Remove any non-digit characters
    input.value = phoneValue.replace(/\D/g, '');

    // Regular expression to check phone number validity
    const isValid = /^\d{10}$/.test(input.value) && /^(09|07)/.test(input.value);

    if (input.value === "") {
        phoneError.textContent = "Phone number is required.";
        phoneError.style.display = 'block';
        input.setCustomValidity("Phone number cannot be empty.");
    } else if (!isValid) {
        phoneError.textContent = "Phone number must be 10 digits and must start with '09' or '07'.";
        phoneError.style.display = 'block';
        input.setCustomValidity("Invalid phone number.");
    } else {
        phoneError.style.display = 'none';
        input.setCustomValidity(""); // Reset custom validity
    }
}
</script>
                        </div>
			<input type="email" name="email[]" maxlength="30" class="form-control" required style="margin-right: 10px; margin-left: 30px;  margin-top: -20px; background-color: #f9f9f9; width: 150px; border: 3px solid #ccc; border-radius: 5px; padding: 5px;" value="{{ email }}" readonly>

          <input type="hidden" name="username[]" maxlength="30" class="form-control" required style="margin-right: 10px; margin-left: 30px;  margin-top: -20px; background-color: #f9f9f9; width: 150px; border: 3px solid #ccc; border-radius: 5px; padding: 5px;" readonly>

			<div id="emailError" style="color: red; display: none;"></div>
                        <input type="text" name="gender[]" maxlength="30" class="form-control" required style="margin-left: 20px; margin-top: -20px; background-color: #f9f9f9; width: 150px; border: 3px solid #ccc; border-radius: 5px; padding: 5px;" value="{{ gender }}">

			<select name="no_seat[]" id="selected_seat_0" class="form-control" style="display: inline; background-color: #f9f9f9; width: 150px; border: 3px solid #ccc; border-radius: 5px; padding: 5px; width: 100px; margin-top: -20px; margin-left: 20px;" onchange="updateSelectedSeat(0);" required>
                            <option value="">Select a Seat</option>
                            {% for seat in all_seats %}
                                <option value="{{ seat }}" style="color: {% if seat in booked_seats %} red {% else %} green {% endif %};" {% if seat in booked_seats %} disabled {% endif %}>
                                    {{ seat }}{% if seat in booked_seats %} (Booked){% endif %}
                                </option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
                <button type="button" class="remove-button" style="margin-left: 20px; color: #f44336; font-size: 20px;" onclick="removeTicket(this)">
                    <i class="fas fa-trash-alt" style="color: #f44336;"></i>
                </button>
                <button type="button" class="clear-button" style="margin-left: 100px; background-color: blue; color: white;" onclick="clearInputs(this)">Clear</button>
		<input type="hidden" name="pr[]" value="{{ pr }}" required>
		<input type="hidden" name="da[]" value="{{ da }}" required>
		<input type="hidden" name="side[]" value="{{ side }}" required>
		<input type="hidden" name="plate[]" value="{{ plate }}" required>
		<input type="hidden" name="price[]" value="{{ route.price|default:'0' }}" required>
                <input type="hidden" name="side_no[]" value="{{ route.side_no }}" required>
                <input type="hidden" name="plate_no[]" value="{{ route.plate_no }}" required>
                <input type="hidden" name="date[]" value="{{ route.date }}" required>
                <input type="hidden" name="depcity[]" value="{{ route.depcity }}" required>
                <input type="hidden" name="descity[]" value="{{ route.descity }}" required>
            </div>
        </div>
        {% endfor %}
    </div>
    <button type="button" id="add-button" class="btn btn-primary">Add Another Ticket</button>
    <div style="text-align: center; margin-top: 20px;">
        <button type="submit" class="btn btn-primary">Book All</button>
    </div>
</form>
<script>
function validatePhoneInput(input) {
    // Remove any non-digit characters
    input.value = input.value.replace(/[^0-9]/g, '');

    // Check if the value starts with 09 or 07
    if (input.value.length > 0 && !/^0(9|7)/.test(input.value)) {
        input.value = ''; // Clear the input if it doesn't start with 09 or 07
    }

    // Limit the length to 10 digits
    if (input.value.length > 10) {
        input.value = input.value.slice(0, 10);
    }
}
let prefix = "";
function setPrefix(select) {
    const input = select.parentElement.querySelector('input[name="phone[]"]');
    prefix = select.value; // Store the prefix
    input.value = prefix; // Set the input value to the prefix
    input.disabled = false; // Enable the input field
    input.focus(); // Focus on the input field
}
function updateSelectedSeat(index) {
    const seatSelect = document.getElementById('selected_seat_' + index);   
    if (seatSelect) {
        seatSelect.value = seatSelect.value || ''; // Update the input based on selection
    }
}

document.getElementById('add-button').addEventListener('click', function() {
const ticketFormsContainer = document.getElementById('ticket-forms');
const newForm = document.querySelector('.ticket-form').cloneNode(true);
const currentCount = ticketFormsContainer.children.length;
// Reset inputs in the new form
const inputs = newForm.querySelectorAll('input, select');
inputs.forEach(function(input) {
if (input.type !== 'hidden') {
input.value = ''; // Reset visible inputs
}
if (input.tagName === 'SELECT') {
input.selectedIndex = 0; // Reset select box
}
});


<!--
document.getElementById('add-button').addEventListener('click', function() {
    const ticketFormsContainer = document.getElementById('ticket-forms');
    const newForm = document.querySelector('.ticket-form').cloneNode(true);
    
    // Reset inputs in the new form
    const inputs = newForm.querySelectorAll('input, select');
    inputs.forEach(function(input) {
        if (input.type !== 'hidden') {
            input.value = ''; // Reset visible inputs
            input.removeAttribute('readonly'); // Ensure the new inputs are editable
        }
        if (input.tagName === 'SELECT') {
            input.selectedIndex = 0; // Reset select box
        }
    });

    // Remove existing cloned forms if needed
    const existingForms = ticketFormsContainer.querySelectorAll('.ticket-form:not(:first-child)');
    existingForms.forEach(function(form) {
        ticketFormsContainer.removeChild(form);
    });

    // Append the new form to the container
    ticketFormsContainer.appendChild(newForm);
});
       -->
<!--
	 document.getElementById('add-button').addEventListener('click', function() {
            const ticketFormsContainer = document.getElementById('ticket-forms');
            const newForm = document.querySelector('.ticket-form').cloneNode(true);

            // Reset inputs in the new form
            const inputs = newForm.querySelectorAll('input, select');
            inputs.forEach(function(input) {
                if (input.type !== 'hidden') {
                    input.value = ''; // Reset visible inputs
                    input.removeAttribute('readonly'); // Remove readonly to enable editing
                }
                if (input.tagName === 'SELECT') {
                    input.selectedIndex = 0; // Reset select box
                }
            });

            // Remove any existing forms before adding a new one
            const existingForms = ticketFormsContainer.querySelectorAll('.ticket-form:not(:first-child)');
            existingForms.forEach(function(form) {
                ticketFormsContainer.removeChild(form);
            });

            // Append the new form to the container
            ticketFormsContainer.appendChild(newForm);
        });
       -->


    const seatSelect = newForm.querySelector('select[name="no_seat[]"]');
    seatSelect.id = "selected_seat_" + currentCount;
    seatSelect.setAttribute('onchange', 'updateSelectedSeat(' + currentCount + ');');
    
    ticketFormsContainer.appendChild(newForm);
});
function removeTicket(button) {
    const ticketFormsContainer = document.getElementById('ticket-forms');
    const forms = ticketFormsContainer.getElementsByClassName('ticket-form');
    
    // Only remove if there are more than one form
    if (forms.length > 1) {
        ticketFormsContainer.removeChild(button.closest('.ticket-form'));
    }
}
function clearInputs(button) {
    const formInputs = button.closest('.ticket-form').querySelectorAll('input:not([type="hidden"]), select');
    formInputs.forEach(input => {
        if (input.tagName === 'SELECT') {
            input.selectedIndex = 0; // Reset select box
        } else {
            input.value = ''; // Clear input fields
        }
    });
}
</script>
<style>
.ticket-form {
    border: 1px solid #ccc;
    padding: 10px;
    margin-bottom: 10px;
}
</style>



















<!--
<form action="{% url 'ticket' %}" method="post" id="search_form_1" class="search_panel_content">
    {% csrf_token %}
    {{ new_account }}
    <h3 style="color: blue; margin: 0; margin-left: 700px; margin-top: -30px; font-weight: bold;">Bus Ticket</h3>
    <h4 style="color: green; margin-left: 300px; font-weight: bold;">
        From: <span style="color: blue;">{{ route.depcity }}</span>
        To: <span style="color: blue;">{{ route.descity }}</span>
    </h4>
    <h4 style="color: cyan; margin-left: 10px; font-weight: bold;">Level: <span style="color: Yellow;">{{ levels }}</span></h4>

    <div id="ticket-forms" style="margin: 20px; padding: 20px; background-color: #ffffff; border-radius: 10px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);">
        <div class="ticket-form" style="margin-bottom: 20px;">
            <div class="search_item">
                <div class="form-row" style="margin-bottom: 10px;">
                    <div style="display: flex; align-items: center; margin-bottom: 5px;">
                        <div style="margin-left: 50px; color: #333333;">First Name:</div>
                        <div style="margin-left: 90px; color: #333333;">Last Name:</div>
                        <div style="margin-left: 80px; color: #333333;">Phone:</div>
                        <div style="margin-left: 70px; color: #333333;">Email:</div>
                        <div style="margin-left: 70px; color: #333333;">Gender:</div>
                        <div style="margin-left: 80px; color: #333333;">Seat Number:</div>
                    </div>
                    <div style="display: flex; align-items: center;">
<input type="text" name="firstname[]" maxlength="15" class="form-control" required 
       pattern="[A-Za-z]+" title="Only letters are allowed" 
       oninput="this.value = this.value.replace(/[^A-Za-z]/g, ''); 
                 if (this.value.length > 0) {
                     this.value = this.value.charAt(0).toUpperCase() + this.value.slice(1).toLowerCase();
                 }" 
       style="margin-right: -10px; margin-left: 10px; background-color: #f9f9f9; 
       width: 150px; border: 3px solid #ccc; border-radius: 5px; padding: 5px;">

<input type="text" name="lasttname[]" maxlength="15" class="form-control" required
       pattern="[A-Za-z]+" title="Only letters are allowed"
       oninput="this.value = this.value.replace(/[^A-Za-z]/g, '');
                 if (this.value.length > 0) {
                     this.value = this.value.charAt(0).toUpperCase() + this.value.slice(1).toLowerCase();
                 }"
       style="margin-right: -20px; margin-left: 20px; background-color: #f9f9f9;
       width: 150px; border: 3px solid #ccc; border-radius: 5px; padding: 5px;">
                        <div style="margin-right: 10px; margin-left: 30px; position: relative; display: inline-block;">
                            <select name="phonePrefix" class="form-control" required style="position: absolute; left: 5px; top: 5px; width: 40px; height: 30px; background-color: #f9f9f9; border: 3px solid #ccc; border-radius: 5px; margin-top: 20px;" onchange="setPrefix(this)">
                                <option value="" disabled selected>Select</option>
                                <option value="09">09</option>
                                <option value="07">07</option>
                            </select>
                            <input type="tel" name="phone[]" maxlength="10" class="form-control" required placeholder="09 or 07XXXXXXXX" style="background-color: #f9f9f9; width: 150px; border: 3px solid #ccc; border-radius: 5px; padding: 5px; padding-left: 50px; margin-top: 20px;" disabled>
                            <div id="phoneError" style="color: red; display: none;"></div>
                        </div>

                        <input type="email" name="email[]" maxlength="30" class="form-control" required style="margin-right: -20px; margin-left: 20px; background-color: #f9f9f9; width: 150px; border: 3px solid #ccc; border-radius: 5px; padding: 5px;">
                        <div id="emailError" style="color: red; display: none;"></div>

                        <select name="gender[]" class="form-control" required style="margin-right: 10px; margin-left: 30px; width: 150px; background-color: #f9f9f9; border: 3px solid #ccc; border-radius: 5px; padding: 5px;">
                            <option value="" disabled selected>Select Gender</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                            <option value="other">Other</option>
                        </select>

                        <select name="no_seat[]" id="selected_seat_{{ i }}" class="form-control" style="display: inline; width: 100px;" onchange="updateSelectedSeat({{ i }});">
                            <option value="">Select a Seat</option>
                            {% for seat in all_seats %}
                                <option value="{{ seat }}" style="color: {% if seat in booked_seats %} red {% else %} green {% endif %};" {% if seat in booked_seats %} disabled {% endif %}>
                                    {{ seat }}{% if seat in booked_seats %} (Booked){% endif %}
                                </option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
		 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
                <button type="button" class="remove-button" style="margin-left: 20px; color: #f44336; font-size: 20px;" disabled>
                    <i class="fas fa-trash-alt" style="color: #f44336;"></i>
                </button>
                </button>
                <button type="button" class="clear-button" style="margin-left: 100px; background-color: blue; color: white;">Clear</button>
                <input type="hidden" name="price[]" value="{{ route.price|default:'0' }}" required>
                <input type="hidden" name="side_no[]" value="{{ route.side_no }}" required>
                <input type="hidden" name="plate_no[]" value="{{ route.plate_no }}" required>
                <input type="hidden" name="date[]" value="{{ route.date }}" required>
                <input type="hidden" name="depcity[]" value="{{ route.depcity }}" required>
                <input type="hidden" name="descity[]" value="{{ route.descity }}" required>
            </div>
        </div>
        
    </div>

    <button type="button" id="add-button" class="btn btn-primary">Add Another Ticket</button>
    <div style="text-align: center; margin-top: 20px;">
        <button type="submit" class="btn btn-primary">Book All</button>
    </div>
</form>

<script>
function updateSelectedSeat(index) {
    const seatSelect = document.getElementById('selected_seat_' + index);
    const displayInput = document.getElementById('selected_seat_' + index);
    
    if (seatSelect && displayInput) {
        displayInput.value = seatSelect.value || ''; // Update the input based on selection
    }
}

document.getElementById('add-button').addEventListener('click', function() {
    const ticketFormsContainer = document.getElementById('ticket-forms');
    const newForm = document.querySelector('.ticket-form').cloneNode(true);
    const currentCount = ticketFormsContainer.children.length;

    // Reset inputs in the new form
    const inputs = newForm.querySelectorAll('input, select');
    inputs.forEach(function(input) {
        if (input.type !== 'hidden') {
            input.value = ''; // Reset visible inputs
        }
        if (input.tagName === 'SELECT') {
            input.selectedIndex = 0; // Reset select box
        }
    });

    // Update IDs and event listeners
    newForm.querySelector('select[name="no_seat[]"]').id = "selected_seat_" + currentCount;
    newForm.querySelector('select[name="no_seat[]"]').setAttribute('onchange', 'updateSelectedSeat(' + currentCount + ');');
    
    ticketFormsContainer.appendChild(newForm);
});


let prefix = "";
function setPrefix(select) {
    const input = select.parentElement.querySelector('input[name="phone[]"]');
    prefix = select.value; // Store the prefix
    input.value = prefix; // Set the input value to the prefix
    input.disabled = false; // Enable the input field
    input.focus(); // Focus on the input field
}

function validatePhoneInput(input) {
    // Only allow numbers in the phone input
    input.value = input.value.replace(/[^0-9]/g, '');
}

function validatePhone(input) {
    // Allow only numeric input
    input.value = input.value.replace(/[^0-9]/g, '');

    // Prevent removing the prefix
    if (input.value.length < prefix.length) {
        input.value = prefix; // Restore the prefix if trying to clear it
    }

    // Limit input length to 10
    if (input.value.length > 10) {
        input.value = input.value.slice(0, 10);
    }
    document.querySelectorAll('.clear-button').forEach(button => {
    button.addEventListener('click', function() {
        const formInputs = button.closest('.ticket-form').querySelectorAll('input:not([type="hidden"]), select');
        formInputs.forEach(input => {
            if (input.tagName === 'SELECT') {
                input.selectedIndex = 0; // Reset select box
            } else {
                input.value = ''; // Clear input fields
            }
        });
    });
});
 // Limit input length to 10
    if (input.value.length > 10) {
        input.value = input.value.slice(0, 10);
    }
    document.querySelectorAll('.clear-button').forEach(button => {
    button.addEventListener('click', function() {
        const formInputs = button.closest('.ticket-form').querySelectorAll('input:not([type="hidden"]), select');
        formInputs.forEach(input => {
            if (input.tagName === 'SELECT') {
                input.selectedIndex = 0; // Reset select box
            } else {
                input.value = ''; // Clear input fields
            }
        });
    });
});

    // Validate the input
    const errorMessageElement = document.getElementById('phoneError');
    if (input.value.length === 10) {
        errorMessageElement.textContent = ""; // Clear error message if valid
        errorMessageElement.style.display = 'none'; // Hide error message
    } else {
        errorMessageElement.textContent = "Phone number must be 10 digits.";
        errorMessageElement.style.display = 'block'; // Show error message
    }
}

function validateInput(input) {
    // Remove any non-letter characters
    input.value = input.value.replace(/[^A-Za-z]/g, '');
    // Capitalize the first letter
    input.value = input.value.charAt(0).toUpperCase() + input.value.slice(1);
}
function validateEmail(input) {
    const errorMessageElement = document.getElementById('emailError');
    const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/; // Simple email pattern
    // Check if the input matches the email pattern
    if (input.value.length > 0 && !emailPattern.test(input.value)) {
        errorMessageElement.textContent = "Please enter a valid email address.";
        errorMessageElement.style.display = 'block'; // Show the error message
    } else {
        errorMessageElement.textContent = ""; // Clear error message if valid
        errorMessageElement.style.display = 'none'; // Hide the error message
    }
}
function removeTicket(button) {
    const ticketFormsContainer = document.getElementById('ticket-forms');
    ticketFormsContainer.removeChild(button.closest('.ticket-form'));
}
document.getElementById('add-button').addEventListener('click', function() {
    const ticketFormsContainer = document.getElementById('ticket-forms');
    const newForm = document.querySelector('.ticket-form').cloneNode(true);
    const inputs = newForm.querySelectorAll('input, select');
    inputs.forEach(function(input) {
        if (input.type !== 'hidden' && input.name !== 'seat_no[]') {
            input.value = ''; // Reset visible inputs
        }
        if (input.tagName === 'SELECT') {
            input.selectedIndex = 0; // Reset select box
        }
    });
    newForm.querySelector('select[name="seat_no[]"]').id = "seat_no_" + ticketFormsContainer.childElementCount;
    newForm.querySelector('input[name="no_seat[]"]').id = "wenberkutr_" + ticketFormsContainer.childElementCount;

    const removeButton = newForm.querySelector('.remove-button');
    removeButton.disabled = false;
    removeButton.onclick = function() {
        removeTicket(removeButton);
    };
    const removeButton = newForm.querySelector('.remove-button');
    removeButton.disabled = false;
    removeButton.onclick = function() {
        removeTicket(removeButton);
    };
    ticketFormsContainer.appendChild(newForm);
});

</script>

<style>
.ticket-form {
    border: 1px solid #ccc;
    padding: 10px;
    margin-bottom: 10px;
}
</style>
-->















































<!--
<form action="{% url 'ticket' %}" method="post" id="search_form_1" class="search_panel_content">
    {% csrf_token %}
    {{ new_account }}
    <h3 style="color: blue; margin: 0; margin-left: 700px; margin-top: -30px; font-weight: bold;">Bus Ticket</h3>
    <h4 style="color: green; margin-left: 300px; font-weight: bold;">
        From: <span style="color: blue;">{{ route.depcity }}</span>
        To: <span style="color: blue;">{{ route.descity }}</span>
    </h4>
    <h4 style="color: cyan; margin-left: 10px; font-weight: bold;">Level: <span style="color: Yellow;">{{ levels }}</span></h4>

    <div id="ticket-forms" style="margin: 20px; padding: 20px; background-color: #ffffff; border-radius: 10px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);">
        <div class="ticket-form" style="margin-bottom: 20px;">
            <div class="search_item">
                <div class="form-row" style="margin-bottom: 10px;">
                    <div style="display: flex; align-items: center; margin-bottom: 5px;">
                        <div style="margin-left: 50px; color: #333333;">First Name:</div>
                        <div style="margin-left: 90px; color: #333333;">Last Name:</div>
                        <div style="margin-left: 80px; color: #333333;">Phone:</div>
                        <div style="margin-left: 70px; color: #333333;">Email:</div>
                        <div style="margin-left: 70px; color: #333333;">Gender:</div>
                        <div style="margin-left: 80px; color: #333333;">Seat Number:</div>
                    </div>
                    <div style="display: flex; align-items: center;">
                        <input type="text" name="firstname[]" maxlength="15" class="form-control" required pattern="[A-Za-z]+" title="Only letters are allowed" oninput="validateInput(this);" style="margin-right: -10px; margin-left: 10px; background-color: #f9f9f9; width: 150px; border: 3px solid #ccc; border-radius: 5px; padding: 5px;">
                        
                        <input type="text" name="lastname[]" maxlength="15" class="form-control" required pattern="[A-Za-z]+" title="Only letters are allowed" oninput="validateInput(this);" style="margin-right: -20px; margin-left: 20px; background-color: #f9f9f9; width: 150px; border: 3px solid #ccc; border-radius: 5px; padding: 5px;">
                        
                        <div style="margin-right: 10px; margin-left: 30px; position: relative; display: inline-block;">
                            <select name="phonePrefix" class="form-control" required style="position: absolute; left: 5px; top: 5px; width: 40px; height: 30px; background-color: #f9f9f9; border: 3px solid #ccc; border-radius: 5px; margin-top: 20px;" onchange="setPrefix(this)">
                                <option value="" disabled selected>Select</option>
                                <option value="09">09</option>
                                <option value="07">07</option>
                            </select>
                            <input type="tel" name="phone[]" maxlength="10" class="form-control" required placeholder="09 or 07XXXXXXXX" oninput="validatePhone(this);" style="background-color: #f9f9f9; width: 150px; border: 3px solid #ccc; border-radius: 5px; padding: 5px; padding-left: 50px; margin-top: 20px;" disabled>
                            <div id="phoneError" style="color: red; display: none;"></div>
                        </div>

                        <input type="email" name="email[]" maxlength="30" class="form-control" required oninput="validateEmail(this);" style="margin-right: -20px; margin-left: 20px; background-color: #f9f9f9; width: 150px; border: 3px solid #ccc; border-radius: 5px; padding: 5px;">
                        <div id="emailError" style="color: red; display: none;"></div>

                        <select name="gender[]" class="form-control" required style="margin-right: 10px; margin-left: 30px; width: 150px; background-color: #f9f9f9; border: 3px solid #ccc; border-radius: 5px; padding: 5px;">
                            <option value="" disabled selected>Select Gender</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                            <option value="other">Other</option>
                        </select>

			<select name="no_seat[]" id="selected_seat_{{ i }}" class="form-control" style="display: inline; width: 100px;" onchange="updateSelectedSeat({{ i }});">
    <option value="">Select a Seat</option>
    {% for seat in all_seats %}
        <option value="{{ seat }}" style="color: {% if seat in booked_seats %} red {% else %} green {% endif %};" {% if seat in booked_seats %} disabled {% endif %}>
            {{ seat }}{% if seat in booked_seats %} (Booked){% endif %}
        </option>
    {% endfor %}
</select>
                    </div>
                </div>
                <input type="hidden" name="price[]" value="{{ route.price|default:'0' }}" required>
                <input type="hidden" name="side_no[]" value="{{ route.side_no }}" required>
                <input type="hidden" name="plate_no[]" value="{{ route.plate_no }}" required>
                <input type="hidden" name="date[]" value="{{ route.date }}" required>
                <input type="hidden" name="depcity[]" value="{{ route.depcity }}" required>
                <input type="hidden" name="descity[]" value="{{ route.descity }}" required>
            </div>
        </div>
        
    </div>

    <button type="button" id="add-button" class="btn btn-primary">Add Another Ticket</button>
    <div style="text-align: center; margin-top: 20px;">
        <button type="submit" class="btn btn-primary">Book All</button>
    </div>
</form>

<script>
function updateSelectedSeat(index) {
    const seatSelect = document.getElementById('seat_no_' + index);
    const displayInput = document.getElementById('selected_seat_' + index);
    
    if (seatSelect && displayInput) {
        displayInput.value = seatSelect.value || ''; // Update the input based on selection
    }
}

document.getElementById('add-button').addEventListener('click', function() {
    const ticketFormsContainer = document.getElementById('ticket-forms');
    const newForm = document.querySelector('.ticket-form').cloneNode(true);
    const currentCount = ticketFormsContainer.children.length;

    // Reset inputs in the new form
    const inputs = newForm.querySelectorAll('input, select');
    inputs.forEach(function(input) {
        if (input.type !== 'hidden') {
            input.value = ''; // Reset visible inputs
        }
        if (input.tagName === 'SELECT') {
            input.selectedIndex = 0; // Reset select box
        }
    });

    // Update IDs and event listeners
    newForm.querySelector('select[name="seat_no[]"]').id = "seat_no_" + currentCount;
    newForm.querySelector('input[name="no_seat[]"]').id = "selected_seat_" + currentCount;
    newForm.querySelector('select[name="seat_no[]"]').setAttribute('onchange', 'updateSelectedSeat(' + currentCount + ');');
    
    ticketFormsContainer.appendChild(newForm);
});
</script>

<style>
.ticket-form {
    border: 1px solid #ccc;
    padding: 10px;
    margin-bottom: 10px;
}
</style>
-->






<!--
<form action="{% url 'ticket' %}" method="post" id="search_form_1" class="search_panel_content">
    {% csrf_token %}
    {{ new_account }}
    <h3 style="color: blue; margin: 0; margin-left: 700px; margin-top: -30px; font-weight: bold;">Bus Ticket</h3>
    <h4 style="color: green; margin-left: 300px; font-weight: bold;">
        From: <span style="color: blue;">{{ route.depcity }}</span>
        To: <span style="color: blue;">{{ route.descity }}</span>
    </h4>
    <h4 style="color: cyan; margin-left: 10px; font-weight: bold;">Level: <span style="color: Yellow;">{{ levels }}</span></h4>
    
    <div id="ticket-forms" style="margin: 20px; padding: 20px; background-color: #ffffff; border-radius: 10px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);">
        <div class="ticket-form" style="margin-bottom: 20px;">
            <div class="search_item">
                <div class="form-row" style="margin-bottom: 10px;">
                    <div style="display: flex; align-items: center; margin-bottom: 5px;">
                        <div style="margin-left: 50px; color: #333333;">First Name:</div>
                        <div style="margin-left: 90px; color: #333333;">Last Name:</div>
                        <div style="margin-left: 80px; color: #333333;">Phone:</div>
                        <div style="margin-left: 70px; color: #333333;">Email:</div>
                        <div style="margin-left: 70px; color: #333333;">Gender:</div>
                        <div style="margin-left: 80px; color: #333333;">Seat Number:</div>
                    </div>
                    <div style="display: flex; align-items: center;">
                        <input type="text" name="firstname[]" maxlength="15" class="form-control" required pattern="[A-Za-z]+" title="Only letters are allowed" oninput="validateInput(this);" style="margin-right: -10px; margin-left: 10px; background-color: #f9f9f9; width: 150px; border: 3px solid #ccc; border-radius: 5px; padding: 5px;">
                        
                        <input type="text" name="lastname[]" maxlength="15" class="form-control" required pattern="[A-Za-z]+" title="Only letters are allowed" oninput="validateInput(this);" style="margin-right: -20px; margin-left: 20px; background-color: #f9f9f9; width: 150px; border: 3px solid #ccc; border-radius: 5px; padding: 5px;">
                        
                        <div style="margin-right: 10px; margin-left: 30px; position: relative; display: inline-block;">
                            <select name="phonePrefix" class="form-control" required style="position: absolute; left: 5px; top: 5px; width: 40px; height: 30px; background-color: #f9f9f9; border: 3px solid #ccc; border-radius: 5px; margin-top: 20px;" onchange="setPrefix(this)">
                                <option value="" disabled selected>Select</option>
                                <option value="09">09</option>
                                <option value="07">07</option>
                            </select>
                            <input type="tel" name="phone[]" maxlength="10" class="form-control" required placeholder="09 or 07XXXXXXXX" oninput="validatePhone(this);" style="background-color: #f9f9f9; width: 150px; border: 3px solid #ccc; border-radius: 5px; padding: 5px; padding-left: 50px; margin-top: 20px;" disabled>
                            <div id="phoneError" style="color: red; display: none;"></div>
                        </div>
                        
                        <input type="email" name="email[]" maxlength="30" class="form-control" required oninput="validateEmail(this);" style="margin-right: -20px; margin-left: 20px; background-color: #f9f9f9; width: 150px; border: 3px solid #ccc; border-radius: 5px; padding: 5px;">
                        <div id="emailError" style="color: red; display: none;"></div>
                        
                        <select name="gender[]" class="form-control" required style="margin-right: 10px; margin-left: 30px; width: 150px; background-color: #f9f9f9; border: 3px solid #ccc; border-radius: 5px; padding: 5px;">
                            <option value="" disabled selected>Select Gender</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                            <option value="other">Other</option>
                        </select>
                        
                        <input type="text" name="no_seat[]" id="selected_seat_{{ i }}" value="" style="display: inline; width: 100px;" readonly>
                        <select name="no_seat[]" id="selected_seat_{{ i }}" class="form-control" style="display: inline; width: 100px;" onchange="updateSelectedSeat({{ i }});">
    <option value="">Select a Seat</option>
    {% for seat in all_seats %}
        <option value="{{ seat }}" style="color: {% if seat in booked_seats %} red {% else %} green {% endif %};" {% if seat in booked_seats %} disabled {% endif %}>
            {{ seat }}{% if seat in booked_seats %} (Booked){% endif %}
        </option>
    {% endfor %}
</select>
                        </select>
                    </div>
                </div>
                <input type="hidden" name="price[]" value="{{ route.price|default:'0' }}" required>
                <input type="hidden" name="side_no[]" value="{{ route.side_no }}" required>
                <input type="hidden" name="plate_no[]" value="{{ route.plate_no }}" required>
                <input type="hidden" name="date[]" value="{{ route.date }}" required>
                <input type="hidden" name="depcity[]" value="{{ route.depcity }}" required>
                <input type="hidden" name="descity[]" value="{{ route.descity }}" required>
            </div>
        </div>
       
    </div>
    
    <button type="button" id="add-button" class="btn btn-primary">Add Another Ticket</button>
    <div style="text-align: center; margin-top: 20px;">
        <button type="submit" class="btn btn-primary">Book All</button>
    </div>
</form>

<script>
function updateSelectedSeat(index) {
    const seatSelect = document.getElementById('seat_no_' + index);
    const displayInput = document.getElementById('selected_seat_' + index);
    
    if (seatSelect && displayInput) {
        displayInput.value = seatSelect.value || ''; // Update the input based on selection
    }
}

function updateSelectedSeat(index) {
    const seatSelect = document.getElementById('selected_seat_' + index);
    const selectedSeat = document.getElementById('seat_no_' + index);
    
    if (seatSelect && selectedSeat) {
        selectedSeat.value = seatSelect.value; // Update the selected seat value
    }
}
	document.getElementById('add-button').addEventListener('click', function() {
    const ticketFormsContainer = document.getElementById('ticket-forms');
    const newForm = document.querySelector('.ticket-form').cloneNode(true);
    const inputs = newForm.querySelectorAll('input, select');

    inputs.forEach(function(input) {
        if (input.tagName === 'SELECT') {
            input.selectedIndex = 0; // Reset select box
            const newIndex = ticketFormsContainer.childElementCount; // Get the new index
            if (input.name === 'no_seat[]') {
                input.id = "selected_seat_" + newIndex; // Update ID for no_seat
            }
            if (input.name === 'seat_no[]') {
                input.id = "seat_no_" + newIndex; // Update ID for seat_no
                input.setAttribute('onchange', `updateSelectedSeat(${newIndex});`); // Bind the onchange event
            }
        }
    });

    // Set up the remove button
    const removeButton = newForm.querySelector('.remove-button');
    removeButton.disabled = false;
    removeButton.onclick = function() {
        removeTicket(removeButton);
    };

    // Append the new form to the container
    ticketFormsContainer.appendChild(newForm);
});
document.getElementById('add-button').addEventListener('click', function() {
    const ticketFormsContainer = document.getElementById('ticket-forms');
    const newForm = document.querySelector('.ticket-form').cloneNode(true);
    const currentCount = ticketFormsContainer.children.length;

    // Reset inputs in the new form
    const inputs = newForm.querySelectorAll('input, select');
    inputs.forEach(function(input) {
        if (input.type !== 'hidden') {
            input.value = ''; // Reset visible inputs
        }
        if (input.tagName === 'SELECT') {
            input.selectedIndex = 0; // Reset select box
        }
    });

    // Update IDs and event listeners
    newForm.querySelector('select[name="seat_no[]"]').id = "seat_no_" + currentCount;
    newForm.querySelector('input[name="no_seat[]"]').id = "selected_seat_" + currentCount;
    newForm.querySelector('select[name="seat_no[]"]').setAttribute('onchange', 'updateSelectedSeat(' + currentCount + ');');
    
    ticketFormsContainer.appendChild(newForm);
});
</script>

<style>
.ticket-form {
    border: 1px solid #ccc;
    padding: 10px;
    margin-bottom: 10px;
}
</style>
-->

























<!--
<form action="{% url 'ticket' %}" method="post" id="search_form_1" class="search_panel_content">
    {% csrf_token %}
    {{ new_account }}
    <h3 style="color: blue; margin: 0; margin-left: 700px; margin-top: -30px; font-weight: bold;">Bus Ticket</h3>
    <h4 style="color: green; margin-left: 300px; font-weight: bold;">
        From: <span style="color: blue;">{{ route.depcity }}</span>
        To: <span style="color: blue;">{{ route.descity }}</span>
    </h4>
   <h4 style="color: cyan; margin-left: 10px; font-weight: bold;">Level: <span style="color: Yellow;">{{ levels }}</span> </h4>
    <div id="ticket-forms" style="margin: 20px; padding: 20px; background-color: #ffffff; border-radius: 10px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);">
        <div class="ticket-form" style="margin-bottom: 20px;">
            <div class="search_item">
                <div class="form-row" style="margin-bottom: 10px;">
                    <div style="display: flex; align-items: center; margin-bottom: 5px;">
                        <div style="margin-left: 50px; color: #333333;">First Name:</div>
                        <div style="margin-left: 90px; color: #333333;">Last Name:</div>
                        <div style="margin-left: 80px; color: #333333;">Phone:</div>
                        <div style="margin-left: 70px; color: #333333;">Email:</div>
                        <div style="margin-left: 70px; color: #333333;">Gender:</div>
                        <div style="margin-left: 80px; color: #333333;">Seat Number:</div>
                    </div>
                    <div style="display: flex; align-items: center;">
                        <input type="text" name="firstname[]" maxlength="15" class="form-control" required pattern="[A-Za-z]+" title="Only letters are allowed" oninput="validateInput(this);" style="margin-right: -10px; margin-left: 10px; background-color: #f9f9f9; width: 150px; border: 3px solid #ccc; border-radius: 5px; padding: 5px;">
                        
                        <input type="text" name="lastname[]" maxlength="15" class="form-control" required pattern="[A-Za-z]+" title="Only letters are allowed" oninput="validateInput(this);" style="margin-right: -20px; margin-left: 20px; background-color: #f9f9f9; width: 150px; border: 3px solid #ccc; border-radius: 5px; padding: 5px;">
                        
                        <div style="margin-right: 10px; margin-left: 30px; position: relative; display: inline-block;">
                            <select name="phonePrefix" class="form-control" required style="position: absolute; left: 5px; top: 5px; width: 40px; height: 30px; background-color: #f9f9f9; border: 3px solid #ccc; border-radius: 5px; margin-top: 20px;" onchange="setPrefix(this)">
                                <option value="" disabled selected>Select</option>
                                <option value="09">09</option>
                                <option value="07">07</option>
                            </select>
                            <input type="tel" name="phone[]" maxlength="10" class="form-control" required placeholder="09 or 07XXXXXXXX" oninput="validatePhone(this);" style="background-color: #f9f9f9; width: 150px; border: 3px solid #ccc; border-radius: 5px; padding: 5px; padding-left: 50px; margin-top: 20px;" disabled>
                            <div id="phoneError" style="color: red; display: none;"></div>
                        </div>
                        
                        <input type="email" name="email[]" maxlength="30" class="form-control" required oninput="validateEmail(this);" style="margin-right: -20px; margin-left: 20px; background-color: #f9f9f9; width: 150px; border: 3px solid #ccc; border-radius: 5px; padding: 5px;">
                        
                        <div id="emailError" style="color: red; display: none;"></div>
                        <select name="gender[]" class="form-control" required style="margin-right: 10px; margin-left: 30px; width: 150px; background-color: #f9f9f9; border: 3px solid #ccc; border-radius: 5px; padding: 5px;">
                            <option value="" disabled selected>Select Gender</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                            <option value="other">Other</option>
                        </select>
<select name="no_seat[]" id="seat_no_0" class="form-control" required onchange="updateSelectedSeat(0);">
    <option value="">Select a Seat</option>
    {% for seat in all_seats %}
        <option value="{{ seat }}" style="color: {% if seat in booked_seats %} red {% else %} green {% endif %};" {% if seat in booked_seats %} disabled {% endif %}>
            {{ seat }}{% if seat in booked_seats %} (Booked){% endif %}
        </option>
    {% endfor %}
</select>

<script>
function updateSelectedSeat(index) {
    const seatSelect = document.getElementById('seat_no_' + index);
    const displayInput = document.getElementById('selected_seat_' + index);
    
    // Check if both elements exist
    if (seatSelect && displayInput) {
        // Ensure the selected value is not empty
        if (seatSelect.value) {
            displayInput.value = seatSelect.value; // Set the input to the selected seat value
        } else {
            displayInput.value = ''; // Clear the input if no seat is selected
        }
    }
}
</script>

		    </div>
                </div>
		 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
                <button type="button" class="remove-button" style="margin-left: 20px; color: #f44336; font-size: 20px;" disabled>
                    <i class="fas fa-trash-alt" style="color: #f44336;"></i>
                </button>

                </button>
                <button type="button" class="clear-button" style="margin-left: 100px; background-color: blue; color: white;">Clear</button>
                <input type="hidden" name="price[]" value="{{ route.price|default:'0' }}" required>
                <input type="hidden" name="side_no[]" value="{{ route.side_no }}" required>
                <input type="hidden" name="plate_no[]" value="{{ route.plate_no }}" required>
                <input type="hidden" name="date[]" value="{{ route.date }}" required>
                <input type="hidden" name="depcity[]" value="{{ route.depcity }}" required>
                <input type="hidden" name="descity[]" value="{{ route.descity }}" required>
            </div>
        </div>
    </div>
    <button type="button" id="add-button" class="btn btn-primary">Add Another Ticket</button>
    <div style="text-align: center; margin-top: 20px;">
        <button type="submit" class="btn btn-primary">Book All</button>
    </div>
{% endif %}
</form>
<script>
let prefix = "";
function setPrefix(select) {
    const input = select.parentElement.querySelector('input[name="phone[]"]');
    prefix = select.value; // Store the prefix
    input.value = prefix; // Set the input value to the prefix
    input.disabled = false; // Enable the input field
    input.focus(); // Focus on the input field
}

function validatePhone(input) {
    // Allow only numeric input
    input.value = input.value.replace(/[^0-9]/g, '');

    // Prevent removing the prefix
    if (input.value.length < prefix.length) {
        input.value = prefix; // Restore the prefix if trying to clear it
    }

    // Limit input length to 10
    if (input.value.length > 10) {
        input.value = input.value.slice(0, 10);
    }
    document.querySelectorAll('.clear-button').forEach(button => {
    button.addEventListener('click', function() {
        const formInputs = button.closest('.ticket-form').querySelectorAll('input:not([type="hidden"]), select');
        formInputs.forEach(input => {
            if (input.tagName === 'SELECT') {
                input.selectedIndex = 0; // Reset select box
            } else {
                input.value = ''; // Clear input fields
            }
        });
    });
});

    // Validate the input
    const errorMessageElement = document.getElementById('phoneError');
    if (input.value.length === 10) {
        errorMessageElement.textContent = ""; // Clear error message if valid
        errorMessageElement.style.display = 'none'; // Hide error message
    } else {
        errorMessageElement.textContent = "Phone number must be 10 digits.";
        errorMessageElement.style.display = 'block'; // Show error message
    }
}

function validateInput(input) {
    // Remove any non-letter characters
    input.value = input.value.replace(/[^A-Za-z]/g, '');
    // Capitalize the first letter
    input.value = input.value.charAt(0).toUpperCase() + input.value.slice(1);
}
function validateEmail(input) {
    const errorMessageElement = document.getElementById('emailError');
    const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/; // Simple email pattern
    // Check if the input matches the email pattern
    if (input.value.length > 0 && !emailPattern.test(input.value)) {
        errorMessageElement.textContent = "Please enter a valid email address.";
        errorMessageElement.style.display = 'block'; // Show the error message
    } else {
        errorMessageElement.textContent = ""; // Clear error message if valid
        errorMessageElement.style.display = 'none'; // Hide the error message
    }
}

function removeTicket(button) {
    const ticketFormsContainer = document.getElementById('ticket-forms');
    ticketFormsContainer.removeChild(button.closest('.ticket-form'));
}
document.getElementById('add-button').addEventListener('click', function() {
    const ticketFormsContainer = document.getElementById('ticket-forms');
    const newForm = document.querySelector('.ticket-form').cloneNode(true);
    const inputs = newForm.querySelectorAll('input, select');
    inputs.forEach(function(input) {
        if (input.type !== 'hidden' && input.name !== 'seat_no[]') {
            input.value = ''; // Reset visible inputs
        }
        if (input.tagName === 'SELECT') {
            input.selectedIndex = 0; // Reset select box
        }
    });
    newForm.querySelector('select[name="seat_no[]"]').id = "seat_no_" + ticketFormsContainer.childElementCount;
    newForm.querySelector('input[name="no_seat[]"]').id = "wenberkutr_" + ticketFormsContainer.childElementCount;

    const removeButton = newForm.querySelector('.remove-button');
    removeButton.disabled = false;
    removeButton.onclick = function() {
        removeTicket(removeButton);
    };

    ticketFormsContainer.appendChild(newForm);
});
</script>
<style>
.ticket-form {
    border: 1px solid #ccc;
    padding: 10px;
    margin-bottom: 10px;
}
</style>
-->




































<!--
<form action="{% url 'ticket' %}" method="post" id="search_form_1" class="search_panel_content">
    {% csrf_token %}
    {{ new_account }}
    <h3 style="color: blue; margin: 0; margin-left: 700px; margin-top: -30px; font-weight: bold;">Bus Ticket</h3>
    <h4 style="color: green; margin-left: 300px; font-weight: bold;">
        From: <span style="color: blue;">{{ route.depcity }}</span>
        To: <span style="color: blue;">{{ route.descity }}</span>
    </h4>
    <h4 style="color: cyan; margin-left: 10px; font-weight: bold;">Level: <span style="color: Yellow;">{{ levels }}</span></h4>

    <div id="ticket-forms" style="margin: 20px; padding: 20px; background-color: #ffffff; border-radius: 10px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);">
        <div class="ticket-form" style="margin-bottom: 20px;">
            <div class="search_item">
                <div class="form-row" style="margin-bottom: 10px;">
                    <div style="display: flex; align-items: center; margin-bottom: 5px;">
                        <div style="margin-left: 50px; color: #333333;">First Name:</div>
                        <div style="margin-left: 90px; color: #333333;">Last Name:</div>
                        <div style="margin-left: 80px; color: #333333;">Phone:</div>
                        <div style="margin-left: 70px; color: #333333;">Email:</div>
                        <div style="margin-left: 70px; color: #333333;">Gender:</div>
                        <div style="margin-left: 80px; color: #333333;">Seat Number:</div>
                    </div>
                    <div style="display: flex; align-items: center;">
                        <input type="text" name="firstname[]" maxlength="15" class="form-control" required pattern="[A-Za-z]+" title="Only letters are allowed" style="margin-right: -10px; margin-left: 10px; background-color: #f9f9f9; width: 150px; border: 3px solid #ccc; border-radius: 5px; padding: 5px;">
                        <input type="text" name="lastname[]" maxlength="15" class="form-control" required pattern="[A-Za-z]+" title="Only letters are allowed" style="margin-right: -20px; margin-left: 20px; background-color: #f9f9f9; width: 150px; border: 3px solid #ccc; border-radius: 5px; padding: 5px;">
                        <select name="phonePrefix" class="form-control" required style="margin-right: 10px; margin-left: 30px; width: 50px;">
                            <option value="" disabled selected>Select</option>
                            <option value="09">09</option>
                            <option value="07">07</option>
                        </select>
                        <input type="tel" name="phone[]" maxlength="10" class="form-control" required style="background-color: #f9f9f9; width: 150px; border: 3px solid #ccc; border-radius: 5px; padding: 5px;">
                        <input type="email" name="email[]" maxlength="30" class="form-control" required style="margin-left: 20px; background-color: #f9f9f9; width: 150px; border: 3px solid #ccc; border-radius: 5px; padding: 5px;">
                        <select name="gender[]" class="form-control" required style="margin-left: 30px; width: 150px;">
                            <option value="" disabled selected>Select Gender</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                            <option value="other">Other</option>
                        </select>
                        <input type="hidden" name="no_seat[]" id="wenberkutr_0" value="">
                        <select name="seat_no[]" id="seat_no_0" class="form-control" required onchange="updateWenberkutr(0);">
                            <option value="">Select a Seat</option>
                            {% for seat in all_seats %}
                                <option value="{{ seat }}" style="color: {% if seat in booked_seats %} red {% else %} green {% endif %};" {% if seat in booked_seats %} disabled {% endif %}>
                                    {{ seat }}{% if seat in booked_seats %} (Booked){% endif %}
                                </option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <button type="button" class="remove-button" style="margin-left: 20px; color: #f44336; font-size: 20px;" disabled>
                    <i class="fas fa-trash-alt" style="color: #f44336;"></i>
                </button>
                <button type="button" class="clear-button" style="margin-left: 100px; background-color: blue; color: white;">Clear</button>
                <input type="hidden" name="price[]" value="{{ route.price|default:'0' }}" required>
                <input type="hidden" name="side_no[]" value="{{ route.side_no }}" required>
                <input type="hidden" name="plate_no[]" value="{{ route.plate_no }}" required>
                <input type="hidden" name="date[]" value="{{ route.date }}" required>
                <input type="hidden" name="depcity[]" value="{{ route.depcity }}" required>
                <input type="hidden" name="descity[]" value="{{ route.descity }}" required>
            </div>
        </div>
    </div>
    <button type="button" id="add-button" class="btn btn-primary">Add Another Ticket</button>
    <div style="text-align: center; margin-top: 20px;">
        <button type="submit" class="btn btn-primary">Book All</button>
    </div>
</form>

<script>
let prefix = "";

function setPrefix(select) {
    const input = select.parentElement.querySelector('input[name="phone[]"]');
    prefix = select.value; // Store the prefix
    input.value = prefix; // Set the input value to the prefix
    input.disabled = false; // Enable the input field
    input.focus(); // Focus on the input field
}

function updateWenberkutr(index) {
    const seatSelect = document.getElementById('seat_no_' + index);
    const hiddenInput = document.getElementById('wenberkutr_' + index);
    if (seatSelect && hiddenInput) {
        hiddenInput.value = seatSelect.value; // Set the hidden input to the selected seat value
    }
}

document.getElementById('add-button').addEventListener('click', function() {
    const ticketFormsContainer = document.getElementById('ticket-forms');
    const newForm = document.querySelector('.ticket-form').cloneNode(true);
    const inputs = newForm.querySelectorAll('input, select');

    const newIndex = ticketFormsContainer.childElementCount; // Get the new index

    inputs.forEach(function(input) {
        if (input.type !== 'hidden') {
            input.value = ''; // Reset visible inputs
        }
        if (input.tagName === 'SELECT') {
            input.selectedIndex = 0; // Reset select box
            input.id = "seat_no_" + newIndex; // Update the ID for the select element
            input.setAttribute('onchange', `updateWenberkutr(${newIndex});`); // Bind the onchange event
        }
    });

    // Update the hidden input ID for no_seat
    const noSeatInput = newForm.querySelector('input[name="no_seat[]"]');
    noSeatInput.id = "wenberkutr_" + newIndex; // Correctly assign unique ID for no_seat

    // Enable the remove button
    const removeButton = newForm.querySelector('.remove-button');
    removeButton.disabled = false;
    removeButton.onclick = function() {
        removeTicket(removeButton);
    };

    // Append the new form to the container
    ticketFormsContainer.appendChild(newForm);
});

function removeTicket(button) {
    const ticketFormsContainer = document.getElementById('ticket-forms');
    ticketFormsContainer.removeChild(button.closest('.ticket-form'));
}
</script>

<style>
.ticket-form {
    border: 1px solid #ccc;
    padding: 10px;
    margin-bottom: 10px;
}
</style>
-->


	   </div>
          </div>
        </div>
      </div>
    </div>
<div class="row intro_items">
		<div class="col-lg-4 intro_col">
			<div class="intro_item">
				<div class="intro_item_overlay"></div>
				<div class="intro_item_background" style="background-image:url(../static/images/intro_1.jpg)"></div>
				<div class="intro_item_content d-flex flex-column align-items-center justify-content-center">
					<div class="intro_center text-center">
						<h1>BahirDar</h1>					
					</div>
				</div>
			</div>
		</div>
		<div class="col-lg-4 intro_col">
			<div class="intro_item">
				<div class="intro_item_overlay"></div>
				<div class="intro_item_background" style="background-image:url(../static/images/intro_2.jpg)"></div>
				<div class="intro_item_content d-flex flex-column align-items-center justify-content-center">
					<div class="intro_center text-center">
						<h1>Mekelle</h1>
					</div>
				</div>
			</div>
		</div>
		<div class="col-lg-4 intro_col">
			<div class="intro_item">
				<div class="intro_item_overlay"></div>
				<div class="intro_item_background" style="background-image:url(../static/images/intro_3.jpg)"></div>
				<div class="intro_item_content d-flex flex-column align-items-center justify-content-center">
					<div class="intro_center text-center">
						<h1>Jimma</h1>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
</div>
<div class="cta_slider_nav cta_slider_prev">
					<svg version="1.1" id="Layer_4" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
						width="28px" height="33px" viewBox="0 0 28 33" enable-background="new 0 0 28 33" xml:space="preserve">
						<defs>
							<linearGradient id='cta_grad_prev'>
								<stop offset='0%' stop-color='#fa9e1b'/>
								<stop offset='100%' stop-color='#8d4fff'/>
							</linearGradient>
						</defs>
						<path class="nav_path" fill="#F3F6F9" d="M19,0H9C4.029,0,0,4.029,0,9v15c0,4.971,4.029,9,9,9h10c4.97,0,9-4.029,9-9V9C28,4.029,23.97,0,19,0z
						M26,23.091C26,27.459,22.545,31,18.285,31H9.714C5.454,31,2,27.459,2,23.091V9.909C2,5.541,5.454,2,9.714,2h8.571
						C22.545,2,26,5.541,26,9.909V23.091z"/>
						<polygon class="nav_arrow" fill="#F3F6F9" points="15.044,22.222 16.377,20.888 12.374,16.885 16.377,12.882 15.044,11.55 9.708,16.885 11.04,18.219 
						11.042,18.219 "/>
					</svg>
				</div>
				<div class="cta_slider_nav cta_slider_next">
					<svg version="1.1" id="Layer_5" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
					width="28px" height="33px" viewBox="0 0 28 33" enable-background="new 0 0 28 33" xml:space="preserve">
						<defs>
							<linearGradient id='cta_grad_next'>
								<stop offset='0%' stop-color='#fa9e1b'/>
								<stop offset='100%' stop-color='#8d4fff'/>
							</linearGradient>
						</defs>
					<path class="nav_path" fill="#F3F6F9" d="M19,0H9C4.029,0,0,4.029,0,9v15c0,4.971,4.029,9,9,9h10c4.97,0,9-4.029,9-9V9C28,4.029,23.97,0,19,0z
					M26,23.091C26,27.459,22.545,31,18.285,31H9.714C5.454,31,2,27.459,2,23.091V9.909C2,5.541,5.454,2,9.714,2h8.571
					C22.545,2,26,5.541,26,9.909V23.091z"/>
					<polygon class="nav_arrow" fill="#F3F6F9" points="13.044,11.551 11.71,12.885 15.714,16.888 11.71,20.891 13.044,22.224 18.379,16.888 17.048,15.554 
					17.046,15.554 "/>
					</svg>
				</div>
			</div>
		</div>
	</div>
</div>
</div>
<div class="contact">
<div class="container">
	<div class="row">
		<div class="col-lg-5">
			<div class="contact_image">	
			</div>
		</div>
</div>
</div>

<div class="copyright">
                <div class="container">
                        <div class="row">
                                <div class="col-lg-3 order-lg-1 order-2  ">
                                        <div class="copyright_content d-flex flex-row align-items-center">
                                                <div>
Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved designed by guzo team <i class="fa fa-heart-o" aria-hidden="true"></i> by <a href="#" target="_blank">Ticket team</a></div>                                      </div>
                                </div>
                                <div class="col-lg-9 order-lg-2 order-1">
                                        <div class="footer_nav_container d-flex flex-row align-items-center justify-content-lg-end">
                                                <div class="footer_nav">
                                                        <ul class="footer_nav_list">
                                                                <li class="main_nav_item"><a href="{% url 'home' %}">home</a></li>
                                                                <li class="main_nav_item"><a href="{% url 'get_ticket' %}">show ticket</a></li>
                                                                <li class="main_nav_item"><a href="{% url 'book' %}">book</a></li>
                                                                <li class="main_nav_item"><a href="{% url 'logout' %}">logout</a></li>
                                                        </ul>
                                                </div>
                                        </div>
                                </div>
                        </div>
                </div>
        </div>
</div>
<script src="../static/js/jquery-3.2.1.min.js"></script>
<script src="../static/styles/bootstrap4/popper.js"></script>
<script src="../static/styles/bootstrap4/bootstrap.min.js"></script>
<script src="../static/plugins/Isotope/isotope.pkgd.min.js"></script>
<script src="../static/plugins/easing/easing.js"></script>
<script src="../static/plugins/parallax-js-master/parallax.min.js"></script>
<script src="../static/js/offers_custom.js"></script>
</body>
</html>

<li class="main_nav_item"><a href="{% url 'businsert' %}">BusInsert</a></li>
